# Администрирование Linux. ДЗ №4
## Работа с RAID-массивами


## Цель:
> Практика нацелена на получение опыта работы с RAID-массивами, и с методами решения штатных проблем (замена дисков)

----------------

С чем балуемся: - С `mdadm`.

----------------

Что нужно сделать:
  - Собрать R0/R5/R10 (на выбор);
  - Сломать и починить RAID;
  - Проверить, что рейд собирается при перезагрузке;
  - Создать на созданном RAID-устройстве раздел и файловую систему;
  - Добавить запись в fstab для автомонтирования при перезагрузке.

----------------

### Ход работы:
1) Первым делом была развернута виртуальная машина под управленем ubuntu 18.04.5
2) Далее были добавлены в систему 5 виртуальных дисков по 1 Gb каждый.

В этом можно убедиться при помощи рисунка:

![Добавленные носители в систему](https://sun9-68.userapi.com/qIvDNeaqi7xsTNroeJCxdVp6mc9nqfQu0V5JdQ/arwLV5aZ5dk.jpg "Добавленные носители в систему")

3) Установлен пакет `mdadm` командой `sudo apt install mdadm`

4) Было решено создать RAID10-массив (и не потому что он приведен в примере, а потому что он мне более симпатичен)
Он обладает неплохой производительностью из-за дублирования (зеркального отображения одного диска на другой) и при этом запись идет чередованием, сначала на первый RAID1 из нескольких дисков, а потом на второй RAID1. Получается RAID0 из двух RAID1.
Для этого воспользуемся командой `sudo mdadm --create /dev/md0 -l 10 -n 4 /dev/sd{b..e}`

![Собранный RAID10](https://sun9-26.userapi.com/vPVWJ_I2UWq-NSyF-b8zOW2aMGs0w8whvePptw/-rM5d0e51nw.jpg "Собранный RAID10")

5) Проверим состояние, выполнением команд:
```
cat /proc/mdstat
sudo mdadm --detail /dev/md0
```

Состояние RAID, обнаруженных в системе:
![Состояние RAID, обнаруженных в системе](https://sun9-18.userapi.com/hq4_LSW0q2eJTVtLRS0vmcuOFd1iD73lwIk8Pg/Xg_Q3Ye9-zg.jpg "Состояние RAID, обнаруженных в системе")











